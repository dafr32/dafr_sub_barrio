!function(s,p,c,h,v,m,_){"use strict";var u,$="pswp",e="b-"+$,t="data-photoswipe",i="is-pswp-on",n="["+t+"-gallery]:not(."+i+")",f="["+t+"-trigger]",b="data-pswp-uid",E=p.blazy||{},S=s.sanitizer;function d(a,t){var e=c.photoswipe.options||{},n=s.find(_.body,"> ."+$),d=s.findAll(a,f),l=[];function r(t){t=0<t?t:0,e.index=t,e.clickToCloseNonZoomable=!1,e.galleryUID=s.attr(a,b),e.getThumbBoundsFn=function(t){var i=m.pageYOffset||_.documentElement.scrollTop,t=s.rect(l[t].el);return{x:t.left,y:t.top+i,w:t.width}};var i=new h(n,v,l,e);i.listen("beforeChange",function(){p.attachBehaviors(n);var t=s.findAll(n,".b-lazy:not(.b-loaded)");t.length&&E&&E.init&&E.init.load(t)}),i.listen("afterChange",function(){var e=i.currItem;m.clearTimeout(u),u=m.setTimeout(function(){var t=s.find(e.container,".media");s.isElm(t)&&p.attachBehaviors(t),o();var i=e.html,a=s.isElm(t)&&"video"===e.type,t="iframe"===e.type,a=i||a||t;n&&n.classList[a?"add":"remove"]($+"--is-html"),t&&e.container&&(t=s.find(e.container,".media__icon--play"),s.isElm(t)&&t.click())},1e3)}),i.listen("pointerDown",function(){s.addClass(n,$+"--dragging")}),i.listen("pointerUp",function(){n.className.match($+"--dragging")&&(n.className=n.className.replace(/(\S+)pswp--dragging/,""))}),i.listen("close",function(){o()}),i.init()}function o(){var t,i=s.find(n,".is-playing");s.isElm(i)&&(t=s.find(n,".is-playing .media__icon--close"),s.isElm(t)&&s.trigger(t,"click")),t=s.find(n,"video"),s.isElm(t)&&t.pause()}s.each(d,function(t,i){var a=t.nextElementSibling,e=s.parse(s.attr(t,"data-b-media data-media")),n=s.find(t,".media"),d=s.attr(t,"href"),r=s.attr(t,"data-box-url",d,!0),o=s.isElm(n)?s.attr(n,"data-b-thumb data-thumb"):"",n="";(d={}).el=t,d.w=parseInt(e.width,0),d.h=parseInt(e.height,0),d.i=i,d.type=e.boxType,s.isElm(a)&&s.hasClass(a,"litebox__caption")&&(d.title=S.sanitize(a.innerHTML)),o&&(d.msrc=o),"html"in e?(n=e.html,e.encoded&&(n=atob(n)),n=S.sanitize(n),d.html=p.theme("blazyPhotoSwipeHtml",{html:n,data:d})):"iframe"===d.type?d.html=p.theme("blazyMedia",{el:t}):d.src=r,l.push(d)},a),s.attr(a,b,t+1),s.on(a,"click",f,function(t){t.preventDefault();var a,e,i=t.target,t=s.attr(i,"href")?i:s.closest(i,f);s.isElm(t)||(t=s.find(i,f)),s.isElm(t)&&r((a=t,e=0,s.each(d,function(t,i){if(t===a)return e=i,!1}),e))});t=function(){var t=m.location.hash.substring(1),i={};if(t.length<5)return i;for(var a,e=t.split("&"),n=0;n<e.length;n++)e[n]&&((a=e[n].split("=")).length<2||(i[a[0]]=a[1]));return s.hasProp(i,"pid")&&(i.pid=parseInt(i.pid,0)),i}();0<t.pid&&!n.className.match($+"--open")&&r(t.pid-1),s.addClass(a,i)}p.theme.blazyPhotoSwipeHtml=function(t){var i='<div class="pswp__item--html media-wrapper media-wrapper--box" style="width:'+t.data.w+'px">';return i+=t.html,i+="</div>"},p.theme.blazyPhotoSwipe=function(t){var i='$divStart" tabindex="-1" role="dialog" aria-hidden="true">';return i+='$divStart__bg">$divEnd',i+='$divStart__scroll-wrap">',i+='$divStart__container">',i+='$divStart__item">$divEnd',i+='$divStart__item">$divEnd',i+='$divStart__item">$divEnd',i+="$divEnd",i+='$divStart__ui $id__ui--hidden">',i+='$divStart__top-bar">',i+='$divStart__counter">$divEnd',i+='$btnStart--close" title="'+p.t("Close (Esc)")+'">$btnEnd',i+='$btnStart--share" title="'+p.t("Share")+'">$btnEnd',i+='$btnStart--fs" title="'+p.t("Toggle fullscreen")+'">$btnEnd',i+='$btnStart--zoom" title="'+p.t("Zoom in/out")+'">$btnEnd',i+='$divStart__preloader">',i+='$divStart__preloader__icn">',i+='$divStart__preloader__cut">',i+='$divStart__preloader__donut">$divEnd',i+="$divEnd",i+="$divEnd",i+="$divEnd",i+="$divEnd",i+='$divStart__share-modal $id__share-modal--hidden $id__single-tap">',i+='$divStart__share-tooltip">$divEnd',i+="$divEnd",i+='$btnStart--arrow--left" title="'+p.t("Previous (arrow left)")+'">$btnEnd',i+='$btnStart--arrow--right" title="'+p.t("Next (arrow right)")+'">$btnEnd',i+='$divStart__caption">',i+='$divStart__caption__center">$divEnd',i+="$divEnd",i+="$divEnd",i+="$divEnd",i+="$divEnd",s.template(i,{id:$,divStart:'<div class="pswp',btnStart:'<button class="pswp__button pswp__button',divEnd:"</div>",btnEnd:"</button>"})},p.behaviors.blazyPhotoSwipe={attach:function(t){var i=_.body,a=s.find(i,"> .pswp");s.isElm(a)||(s.hasProp(c.photoswipe,"container")?s.append(i,c.photoswipe.container):s.append(i,p.theme("blazyPhotoSwipe"))),s.once(d,e,n,t)},detach:function(t,i,a){"unload"===a&&s.once.removeSafely(e,n,t)}}}(dBlazy,Drupal,drupalSettings,PhotoSwipe,PhotoSwipeUI_Default,this,this.document);
